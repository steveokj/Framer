| Commit | Description | User message | Assistant reply | Time |
| --- | --- | --- | --- | --- |
| 159b1ed0813d5583592b999d5ce9130ba1c0678e | Update web pages to default API port 8001 | video stream failed...i changed default port to 8001 | Updated the web pages to default to `http://localhost:8001` when `NEXT_PUBLIC_API_BASE` isn't set, so the MKV/video views now hit your new FastAPI port. This updates the fallback API base strings and error copy in `web/app/video_frame_mkv/page.tsx` and the other video-related pages under `web/app/`. Tests not run (not requested).<br>Next steps:<br>1) restart `npm run dev` and reload the page.<br>2) confirm the FastAPI server is running on 8001 (or set `NEXT_PUBLIC_API_BASE`). | 2026-01-04 14:28:05 |
| f38848f6fc72cce75c0c8f6904f9f12c97bbfe5b | Add upload and server browse tools | any folder. its just for me personally and i can adjust later. it will remember the last used folder on windows 11 right? | Added an upload picker (with optional ingest) and a server-side file browser so you can load videos from phone uploads or pick existing PC files, and widened FastAPI file roots so absolute paths stream outside the repo.<br>- Upload + ingest toggle and server browser UI: `web/app/video_frame_mkv/page.tsx`, `web/app/video_mkv/page.tsx`.<br>- Upload handler: `web/app/api/mkv_upload/route.ts` (saves to `data/uploads`, optional `cli/mkv_ingest.py` run).<br>- Server browser: `web/app/api/server_browse/route.ts` (remembers last folder in localStorage); Windows file picker itself usually remembers the last folder per site on Windows 11.<br>- File serving roots: `server.py` now includes local drives; can be overridden with `ALLOWED_FILE_ROOTS` (semicolon-separated).<br>Next steps:<br>1) restart FastAPI and `npm run dev`.<br>2) try the upload button or browse server files. | 2026-01-04 16:17:48 |
| d83ccedc713274a87e1640edfd4ab3ff67e67440 | Improve upload progress and ingest feedback | make the uploading ui feedback better. how many left to upload, when ingesting and all, when transcribing..e.t.c | Improved the MKV upload UI to show upload percent, remaining bytes, and live ingest/transcription status with an expandable log. Added an SSE ingest endpoint at `web/app/api/mkv_ingest/route.ts` and wired both `web/app/video_frame_mkv/page.tsx` and `web/app/video_mkv/page.tsx` to stream ingest stages and show transcription state. Tests not run (not requested). | 2026-01-04 16:48:25 |
| a67fe6ca1a13400ab666923f74c825ccd9fbd094 | Increase mkv ingest SQLite busy timeout | [mkv_ingest] video: C:\Users\steve\Desktop\Framer\data\uploads\IGotThis-mk09xmuq-0a2821.mp4<br>Traceback (most recent call last):<br>File "C:\Users\steve\Desktop\Framer\cli\mkv_ingest.py", line 967, in <module><br>raise SystemExit(main())<br>^^^^^^<br>File "C:\Users\steve\Desktop\Framer\cli\mkv_ingest.py", line 790, in main<br>video_chunk_id = get_or_create_video_chunk(conn, video_path)<br>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^<br>File "C:\Users\steve\Desktop\Framer\cli\mkv_ingest.py", line 463, in get_or_create_video_chunk<br>cur = conn.execute(<br>^^^^^^^^^^^^^<br>sqlite3.OperationalError: database is locked | Updated `cli/mkv_ingest.py` to use a longer SQLite timeout and `PRAGMA busy_timeout` so ingest waits longer when another process briefly holds the database lock. This should reduce “database is locked” failures when uploads overlap or another writer is active. Tests not run (not requested). | 2026-01-04 17:02:38 |
